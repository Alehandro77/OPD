{% extends "layout.html" %}

{% block title %}Профиль{% endblock %}

{% block content %}
    <div class="{{color}}-container {{color}}-profile-page">
        <div class="{{color}}-container profile-page2">
            <h2 class="{{color}}-h2" >Профиль пользователя</h2>
            <div id="form-errors" class="error"></div>
            <form method="post" id="profileForm" action="{{ url_for('profile') }}" data-profile-url="{{ url_for('profile') }}">
                <div id="error-messages">
                    <label class="{{color}}-label" for="age">Возраст:</label><br>
                    <input type="number" id="age" name="age" value="{{ profile.age if profile else '' }}" required>
                    <span id="age-error" class="error"></span><br><br>

                    <label class="{{color}}-label" for="weight">Вес:</label><br>
                    <input type="number" id="weight" name="weight" step="0.1" value="{{ profile.weight if profile else '' }}" required>
                    <span id="weight-error" class="error"></span><br><br>

                    <label class="{{color}}-label" for="height">Рост:</label><br>
                    <input type="number" id="height" name="height" value="{{ profile.height if profile else '' }}" required>
                    <span id="height-error" class="error"></span><br><br>

                    <label class="{{color}}-label" for="gender">Пол:</label><br>
                    <select id="gender" name="gender" required>
                        <option value="">Выберите ...</option>
                        <option value="men" {% if profile %} {% if profile.gender == 'men' %}selected{% endif %} {% endif %}>Мужской</option>
                        <option value="women" {% if profile %} {% if profile.gender == 'women' %}selected{% endif %} {% endif %}>Женский</option>
                    </select>
                    <span id="gender-error" class="error"></span><br><br>

                    <label class="{{color}}-label">Во сколько вам нужно проснуться в понедельник?:</label><br>
                    <div class="time-selector">
                        <div class="time-value faded" data-action="decrement" data-target="wake_up_time_monday_hours">-</div>
                        <div class="time-value current" data-value="wake_up_time_monday_hours">
                            <span id="wake_up_time_monday_hours_display">{{ "%02d"|format(profile.wake_up_time_monday_hours) if profile else "00" }}</span>
                            <input type="hidden" id="wake_up_time_monday_hours" name="wake_up_time_monday_hours" value="{{ profile.wake_up_time_monday_hours if profile else "0" }}">
                        </div>
                        <div class="time-value faded" data-action="increment" data-target="wake_up_time_monday_hours">+</div>
                        <span class="time-separator">:</span>
                        <div class="time-value faded" data-action="decrement" data-target="wake_up_time_monday_minutes">-</div>
                        <div class="time-value current" data-value="wake_up_time_monday_minutes">
                            <span id="wake_up_time_monday_minutes_display">{{ "%02d"|format(profile.wake_up_time_monday_minutes) if profile else "00" }}</span>
                            <input type="hidden" id="wake_up_time_monday_minutes" name="wake_up_time_monday_minutes" value="{{ profile.wake_up_time_monday_minutes if profile else "0" }}">
                        </div>
                        <div class="time-value faded" data-action="increment" data-target="wake_up_time_monday_minutes">+</div>
                    </div>
                    <span id="wake_up_time_monday-error" class="error"></span><br><br>

                    <label class="{{color}}-label">Во сколько вам нужно проснуться во вторник?:</label><br>
                    <div class="time-selector">
                        <div class="time-value faded" data-action="decrement" data-target="wake_up_time_tuesday_hours">-</div>
                        <div class="time-value current" data-value="wake_up_time_tuesday_hours">
                            <span id="wake_up_time_tuesday_hours_display">{{ "%02d"|format(profile.wake_up_time_tuesday_hours) if profile else "00" }}</span>
                            <input type="hidden" id="wake_up_time_tuesday_hours" name="wake_up_time_tuesday_hours" value="{{ profile.wake_up_time_tuesday_hours if profile else "0" }}">
                        </div>
                        <div class="time-value faded" data-action="increment" data-target="wake_up_time_tuesday_hours">+</div>
                        <span class="time-separator">:</span>
                        <div class="time-value faded" data-action="decrement" data-target="wake_up_time_tuesday_minutes">-</div>
                        <div class="time-value current" data-value="wake_up_time_tuesday_minutes">
                            <span id="wake_up_time_tuesday_minutes_display">{{ "%02d"|format(profile.wake_up_time_tuesday_minutes) if profile else "00" }}</span>
                            <input type="hidden" id="wake_up_time_tuesday_minutes" name="wake_up_time_tuesday_minutes" value="{{ profile.wake_up_time_tuesday_minutes if profile else "0" }}">
                        </div>
                        <div class="time-value faded" data-action="increment" data-target="wake_up_time_tuesday_minutes">+</div>
                    </div>
                    <span id="wake_up_time_tuesday-error" class="error"></span><br><br>

                    <label class="{{color}}-label">Во сколько вам нужно проснуться в среду?:</label><br>
                    <div class="time-selector">
                        <div class="time-value faded" data-action="decrement" data-target="wake_up_time_wednesday_hours">-</div>
                        <div class="time-value current" data-value="wake_up_time_wednesday_hours">
                            <span id="wake_up_time_wednesday_hours_display">{{ "%02d"|format(profile.wake_up_time_wednesday_hours) if profile else "00" }}</span>
                            <input type="hidden" id="wake_up_time_wednesday_hours" name="wake_up_time_wednesday_hours" value="{{ profile.wake_up_time_wednesday_hours if profile else "0" }}">
                        </div>
                        <div class="time-value faded" data-action="increment" data-target="wake_up_time_wednesday_hours">+</div>
                        <span class="time-separator">:</span>
                        <div class="time-value faded" data-action="decrement" data-target="wake_up_time_wednesday_minutes">-</div>
                        <div class="time-value current" data-value="wake_up_time_wednesday_minutes">
                            <span id="wake_up_time_wednesday_minutes_display">{{ "%02d"|format(profile.wake_up_time_wednesday_minutes) if profile else "00" }}</span>
                            <input type="hidden" id="wake_up_time_wednesday_minutes" name="wake_up_time_wednesday_minutes" value="{{ profile.wake_up_time_wednesday_minutes if profile else "0" }}">
                        </div>
                        <div class="time-value faded" data-action="increment" data-target="wake_up_time_wednesday_minutes">+</div>
                    </div>
                    <span id="wake_up_time_wednesday-error" class="error"></span><br><br>

                    <label class="{{color}}-label">Во сколько вам нужно проснуться в четверг?:</label><br>
                    <div class="time-selector">
                        <div class="time-value faded" data-action="decrement" data-target="wake_up_time_thursday_hours">-</div>
                        <div class="time-value current" data-value="wake_up_time_thursday_hours">
                            <span id="wake_up_time_thursday_hours_display">
                                {{ "%02d"|format(profile.wake_up_time_thursday_hours) if profile else "00" }}</span>
                                <input type="hidden" id="wake_up_time_thursday_hours" name="wake_up_time_thursday_hours" value="{{ profile.wake_up_time_thursday_hours if profile else "0" }}">
                            </div>
                            <div class="time-value faded" data-action="increment" data-target="wake_up_time_thursday_hours">+</div>
                            <span class="time-separator">:</span>
                            <div class="time-value faded" data-action="decrement" data-target="wake_up_time_thursday_minutes">-</div>
                            <div class="time-value current" data-value="wake_up_time_thursday_minutes">
                                <span id="wake_up_time_thursday_minutes_display">{{ "%02d"|format(profile.wake_up_time_thursday_minutes) if profile else "00" }}</span>
                                <input type="hidden" id="wake_up_time_thursday_minutes" name="wake_up_time_thursday_minutes" value="{{ profile.wake_up_time_thursday_minutes if profile else "0" }}">
                            </div>
                            <div class="time-value faded" data-action="increment" data-target="wake_up_time_thursday_minutes">+</div>
                        </div>
                        <span id="wake_up_time_thursday-error" class="error"></span><br><br>
            
                        <label class="{{color}}-label">Во сколько вам нужно проснуться в пятницу?:</label><br>
                        <div class="time-selector">
                            <div class="time-value faded" data-action="decrement" data-target="wake_up_time_friday_hours">-</div>
                            <div class="time-value current" data-value="wake_up_time_friday_hours">
                                <span id="wake_up_time_friday_hours_display">{{ "%02d"|format(profile.wake_up_time_friday_hours) if profile else "00" }}</span>
                                <input type="hidden" id="wake_up_time_friday_hours" name="wake_up_time_friday_hours" value="{{ profile.wake_up_time_friday_hours if profile else "0" }}">
                            </div>
                            <div class="time-value faded" data-action="increment" data-target="wake_up_time_friday_hours">+</div>
                            <span class="time-separator">:</span>
                            <div class="time-value faded" data-action="decrement" data-target="wake_up_time_friday_minutes">-</div>
                            <div class="time-value current" data-value="wake_up_time_friday_minutes">
                                <span id="wake_up_time_friday_minutes_display">{{ "%02d"|format(profile.wake_up_time_friday_minutes) if profile else "00" }}</span>
                                <input type="hidden" id="wake_up_time_friday_minutes" name="wake_up_time_friday_minutes" value="{{ profile.wake_up_time_friday_minutes if profile else "0" }}">
                            </div>
                            <div class="time-value faded" data-action="increment" data-target="wake_up_time_friday_minutes">+</div>
                        </div>
                        <span id="wake_up_time_friday-error" class="error"></span><br><br>
            
                        <label class="{{color}}-label">Во сколько вам нужно проснуться в субботу?:</label><br>
                        <div class="time-selector">
                            <div class="time-value faded" data-action="decrement" data-target="wake_up_time_saturday_hours">-</div>
                            <div class="time-value current" data-value="wake_up_time_saturday_hours">
                                <span id="wake_up_time_saturday_hours_display">{{ "%02d"|format(profile.wake_up_time_saturday_hours) if profile else "00" }}</span>
                                <input type="hidden" id="wake_up_time_saturday_hours" name="wake_up_time_saturday_hours" value="{{ profile.wake_up_time_saturday_hours if profile else "0" }}">
                            </div>
                            <div class="time-value faded" data-action="increment" data-target="wake_up_time_saturday_hours">+</div>
                            <span class="time-separator">:</span>
                            <div class="time-value faded" data-action="decrement" data-target="wake_up_time_saturday_minutes">-</div>
                            <div class="time-value current" data-value="wake_up_time_saturday_minutes">
                                <span id="wake_up_time_saturday_minutes_display">{{ "%02d"|format(profile.wake_up_time_saturday_minutes) if profile else "00" }}</span>
                                <input type="hidden" id="wake_up_time_saturday_minutes" name="wake_up_time_saturday_minutes" value="{{ profile.wake_up_time_saturday_minutes if profile else "0" }}">
                            </div>
                            <div class="time-value faded" data-action="increment" data-target="wake_up_time_saturday_minutes">+</div>
                        </div>
                        <span id="wake_up_time_saturday-error" class="error"></span><br><br>
            
                        <label class="{{color}}-label">Во сколько вам нужно проснуться в воскресенье?:</label><br>
                        <div class="time-selector">
                            <div class="time-value faded" data-action="decrement" data-target="wake_up_time_sunday_hours">-</div>
                            <div class="time-value current" data-value="wake_up_time_sunday_hours">
                                <span id="wake_up_time_sunday_hours_display">{{ "%02d"|format(profile.wake_up_time_sunday_hours) if profile else "00" }}</span>
                                <input type="hidden" id="wake_up_time_sunday_hours" name="wake_up_time_sunday_hours" value="{{ profile.wake_up_time_sunday_hours if profile else "0" }}">
                            </div>
                            <div class="time-value faded" data-action="increment" data-target="wake_up_time_sunday_hours">+</div>
                            <span class="time-separator">:</span>
                            <div class="time-value faded" data-action="decrement" data-target="wake_up_time_sunday_minutes">-</div>
                            <div class="time-value current" data-value="wake_up_time_sunday_minutes">
                                <span id="wake_up_time_sunday_minutes_display">{{ "%02d"|format(profile.wake_up_time_sunday_minutes) if profile else "00" }}</span>
                                <input type="hidden" id="wake_up_time_sunday_minutes" name="wake_up_time_sunday_minutes" value="{{ profile.wake_up_time_sunday_minutes if profile else "0" }}">
                            </div>
                            <div class="time-value faded" data-action="increment" data-target="wake_up_time_sunday_minutes">+</div>
                        </div>
                        <span id="wake_up_time_sunday-error" class="error"></span><br><br>
            
                        <button  class="{{color}}-button" type="submit">Сохранить</button>
                </div>
            </form>
        </div>
    </div>
{% endblock %}
